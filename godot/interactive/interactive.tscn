[gd_scene load_steps=8 format=3 uid="uid://d00smms5c2anp"]

[ext_resource type="Script" uid="uid://hnx1nub0o304" path="res://interactive/interactive.gd" id="1_enjte"]
[ext_resource type="Resource" uid="uid://bj3se4eabyxps" path="res://dialogue/test.dialogue" id="2_a48br"]
[ext_resource type="Script" uid="uid://danxy3e6iopem" path="res://interactive/interact_area.gd" id="2_klykp"]
[ext_resource type="AudioStream" uid="uid://bh50ia8rlaew1" path="res://assets/free/kotomori_sounds/走动音效.mp3" id="4_38ogc"]
[ext_resource type="AudioStream" uid="uid://ct3i3u5oln220" path="res://assets/free/kotomori_sounds/物品跳跃音效.mp3" id="5_e4y7g"]
[ext_resource type="AudioStream" uid="uid://b641u7bqdd6u8" path="res://assets/free/kotomori_sounds/脱离附身音效.mp3" id="6_5e7ad"]
[ext_resource type="AudioStream" uid="uid://c7dln2xnuhrah" path="res://assets/free/kotomori_sounds/附身进入音效.mp3" id="7_bvyy1"]

[node name="Interactive" type="CharacterBody2D" node_paths=PackedStringArray("player_sprite", "interact_area", "self_area", "camera")]
script = ExtResource("1_enjte")
dialogue_resource = ExtResource("2_a48br")
dialogue_node = "start"
player_sprite = NodePath("Sprite2D")
interact_area = NodePath("InteractArea")
self_area = NodePath("SelfArea")
camera = NodePath("Camera2D")

[node name="Sprite2D" type="Sprite2D" parent="."]

[node name="SelfArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SelfArea"]

[node name="InteractArea" type="Area2D" parent="." groups=["interact_area"]]
script = ExtResource("2_klykp")

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractArea"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="."]
limit_smoothed = true
position_smoothing_enabled = true

[node name="Component" type="Node2D" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="SFX" type="Node" parent="."]

[node name="Moving" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("4_38ogc")
volume_db = 24.0
parameters/looping = true

[node name="Jump" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("5_e4y7g")

[node name="Disattach" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("6_5e7ad")

[node name="Attach" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("7_bvyy1")
